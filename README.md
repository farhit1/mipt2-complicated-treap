# Next permutation on subsegment

Implement a data structure, performing each of the following operations in <img src="http://latex.codecogs.com/gif.latex?O(log\,n)" title="O(log\,n)" />:
- Sum on subsegment <img src="http://latex.codecogs.com/gif.latex?[l;r]" title="[l;r]" />
- Insert element <img src="http://latex.codecogs.com/gif.latex?x" title="x" /> at position <img src="http://latex.codecogs.com/gif.latex?at" title="at" />
- Remove element <img src="http://latex.codecogs.com/gif.latex?x" title="x" /> at position <img src="http://latex.codecogs.com/gif.latex?i" title="i" />
- Assign each element on subsegment <img src="http://latex.codecogs.com/gif.latex?[l;r]" title="[l;r]" /> to <img src="http://latex.codecogs.com/gif.latex?x" title="x" />
- Add <img src="http://latex.codecogs.com/gif.latex?x" title="x" /> to each element on subsegment <img src="http://latex.codecogs.com/gif.latex?[l;r]" title="[l;r]" />
- Take a next permutation of subsegment <img src="http://latex.codecogs.com/gif.latex?[l;r]" title="[l;r]" />
- Take a previous permutation of subsegment <img src="http://latex.codecogs.com/gif.latex?[l;r]" title="[l;r]" />
